<div id="search-demo-container">
    <label>
        <span class="search-icon">ðŸ”Ž</span>
        <input autocomplete="off" id="search-input" oninput="changeResultContainerDisp(this.value)" placeholder="Search all articles..." type="text">
    </label>
    <ul id="results-container" style="display: none"></ul>
</div>

<script src="{{ site.baseurl }}/assets/simple-jekyll-search.min.js"></script>

<script>

    function changeResultContainerDisp(val) {
            if (val) {
                document
                    .getElementById("results-container")
                    .style
                    .display = "block";
                document.getElementById("search-input").addEventListener("blur", function () {
                    document.addEventListener("click", function (event) {
                        var isClickInside = document.getElementById("results-container").contains(event.target);
                        if (! isClickInside) {
                            document
                                .getElementById("results-container")
                                .style
                                .display = "none";
                        }
                    })
                })
            } else {
                document
                    .getElementById("results-container")
                    .style
                    .display = "none";
            }
        }


  window.simpleJekyllSearch = new SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '{{ site.baseurl }}/search.json',
    searchResultTemplate: '<li><a href="{url}?query={query}" title="{desc}">{title}</a></li>',
    noResultsText: 'No results found',
    limit: 20,
    fuzzy: false,
    exclude: ['Welcome']
  })
</script>


